{% extends "layout.html" %}

{% block title %}
    Portfolio
{% endblock %}

{% block main %}

<div id="value">100 out </div>
<div id="maxxx" style="display:none" > {{ max }}</div>
<div id="counttt" style="display:none" > {{ count }}</div>
<a href="/"> click me</a>

<style>
#value {
  font: 800 40px system-ui;
  color: aliceblue;
}
</style>

<script>
function animateValue(obj, start, end, duration) {
  let startTimestamp = null;
  const step = (timestamp) => {
    if (!startTimestamp) startTimestamp = timestamp;
    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
    obj.innerHTML = Math.floor(progress * (end - start) + start) + ' / ' + document.getElementById("maxxx").innerHTML;
    if (progress < 1) {
      window.requestAnimationFrame(step);
    }
  };
  window.requestAnimationFrame(step);
}

const obj = document.getElementById("value");
console.log(document.getElementById("counttt").innerHTML)
animateValue(obj, 0, document.getElementById("counttt").innerHTML, 3000);
</script>


{% endblock %}